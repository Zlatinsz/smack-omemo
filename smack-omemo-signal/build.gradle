// Although the osgi plugin is already applied by the root project's
// subprojects closure, we need to re-apply it here so that the
// manifest is a OsgiManifest. Possible caused by
// evaluationDependsOnChildren in the root project.
apply plugin: 'osgi'
apply plugin: 'checkstyle'
apply plugin: 'maven'

dependencies {
	compile project(":smack-im")
	compile project(":smack-extensions")
	compile project(":smack-omemo")
	compile 'org.whispersystems:signal-protocol-java:2.4.0'
}

checkstyle {
	configProperties.checkstyleLicenseHeader = "smack-omemo-signal-gplv3-license-header"
}

uploadArchives {
	repositories {
		mavenDeployer {
			pom.project {
				licenses {
					license {
						name 'GNU General Public License, version 3 or any later version'
						url 'https://www.gnu.org/licenses/gpl.txt'
						distribution 'repo'
					}
				}
			}
		}
	}
}
